const sqlite3 = require('sqlite3').verbose();const path = require('path');const util = require('util');const dbPath = path.resolve(__dirname, '../../hms.sqlite');console.log(`sqlite3 database path: ${dbPath}`);const db = new sqlite3.Database(dbPath, (err) => {    if (err) {        console.error('‚ùå SQLite Connection Error:', err.message);    } else {        console.log('‚úÖ Connected to SQLite database.');        db.run('PRAGMA foreign_keys = ON');    }});const pool = {    execute: (sql, params = []) => {        return new Promise((resolve, reject) => {            const sqlTrimmed = sql.trim();            const isSelect = /^(select|pragma)/i.test(sqlTrimmed);            if (isSelect) {                db.all(sql, params, (err, rows) => {                    if (err) return reject(err);                    resolve([rows, []]);                 });            } else {                db.run(sql, params, function (err) {                    if (err) return reject(err);                    const result = {                        insertId: this.lastID,                        affectedRows: this.changes,                        warningStatus: 0,                    };                    resolve([result, []]);                });            }        });    },    query: (sql, params) => {        return pool.execute(sql, params);    },    getConnection: async () => {        return {            release: () => { },            execute: (sql, params) => pool.execute(sql, params),            query: (sql, params) => pool.execute(sql, params),            beginTransaction: () => new Promise(resolve => resolve()),             commit: () => new Promise(resolve => resolve()),            rollback: () => new Promise(resolve => resolve())        };    },    end: () => {        db.close();    }};const testConnection = async () => {    try {        console.log('üì° Connecting to SQLite database...');        await pool.execute('SELECT 1');        console.log('‚úÖ DATABASE CONNECTED (SQLite Mode)!');        return true;    } catch (error) {        console.error('‚ùå DATABASE ERROR:', error.message);        return false;    }};module.exports = { pool, testConnection };