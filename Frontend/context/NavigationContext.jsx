'use client';import React, { createContext, useContext, useState, useEffect } from 'react';import { useUser } from './UserContext';const NavigationContext = createContext(undefined);export function NavigationProvider({ children, initialView = 'dashboard/admin' }) {    const [currentView, setCurrentView] = useState(initialView);    const { user } = useUser();    useEffect(() => {        const handlePopState = () => {            const path = window.location.pathname;            if (path.includes('/dashboard/')) {                const parts = path.split('/dashboard/')[1];                if (parts) {                    setCurrentView(`dashboard/${parts}`);                    return;                }            }            const featureMatch = path.match(/\/(users|patients|doctors|appointments|medical-records|billing|reports)/);            if (featureMatch) {                const subPath = path.substring(1);                setCurrentView(subPath);                return;            }            const role = user?.role || 'admin';            setCurrentView(`dashboard/${role}`);        };        window.addEventListener('popstate', handlePopState);        return () => window.removeEventListener('popstate', handlePopState);    }, [user]);    const navigateTo = (view) => {        setCurrentView(view);        if (typeof window !== 'undefined') {            let url = view.startsWith('dashboard/') ? `/${view}` : `/${view}`;            if (view.startsWith('/')) url = view;            window.history.pushState({}, '', url);        }    };    return (        <NavigationContext.Provider value={{ currentView, navigateTo }}>            {children}        </NavigationContext.Provider>    );}export function useNavigation() {    const context = useContext(NavigationContext);    if (context === undefined) {        throw new Error('useNavigation must be used within a NavigationProvider');    }    return context;}