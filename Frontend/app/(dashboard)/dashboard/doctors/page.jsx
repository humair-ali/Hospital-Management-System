'use client';import { useEffect, useState } from 'react';import { useUser } from '@/context/UserContext';import { getDoctors } from '@/lib/api';import { SPALink } from '@/components/SPALink';import { FaUserMd, FaPlus, FaGraduationCap, FaEdit, FaUserCircle } from 'react-icons/fa';export default function DashboardDoctorsPage() {  const { user, loading: authLoading } = useUser();  const [doctors, setDoctors] = useState([]);  const [loading, setLoading] = useState(true);  const [error, setError] = useState('');  useEffect(() => {    if (user) {      fetchDoctors();    }  }, [user]);  async function fetchDoctors() {    try {      setLoading(true);      const response = await getDoctors({ limit: 100 });      if (response.success && response.data) {        setDoctors(response.data);      } else {        setError('Failed to load specialists database');      }    } catch (err) {      console.error('Error fetching doctors:', err);      setError(err.message || 'Error loading records');    } finally {      setLoading(false);    }  }  if (authLoading) return (    <div className="h-full flex items-center justify-center p-20">      <div className="animate-spin rounded-full h-12 w-12 border-4 border-primary-100 border-t-primary-600"></div>    </div>  );  return (    <div className="space-y-8 animate-in fade-in duration-500">      <div className="flex flex-col sm:flex-row items-center justify-between gap-6 pb-6 border-b border-gray-200/60">        <div className="flex items-center gap-4">          <div className="bg-primary-50 p-3 rounded-2xl text-primary-600 shadow-sm border border-primary-100">            <FaUserMd size={24} />          </div>          <div>            <h1 className="text-3xl font-black text-gray-900 tracking-tight">System Specialists</h1>            <p className="text-sm text-gray-500 font-medium">Internal directory of authenticated medical personnel</p>          </div>        </div>        <SPALink href="users/new">          <button className="btn-primary h-12 px-6 shadow-xl shadow-primary-500/20 flex items-center gap-2">            <FaPlus size={14} /> Add New Specialist          </button>        </SPALink>      </div>      {error && (        <div className="bg-red-50 text-red-600 border border-red-100 p-4 rounded-2xl text-sm font-bold flex items-center gap-3">          <span className="w-1.5 h-1.5 rounded-full bg-red-500"></span>          {error}        </div>      )}      {loading ? (        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">          {[1, 2, 3, 4, 5, 6, 7, 8].map(i => <div key={i} className="h-64 bg-gray-100 rounded-[32px] animate-pulse"></div>)}        </div>      ) : (        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">          {doctors.length === 0 ? (            <div className="col-span-full py-32 flex flex-col items-center justify-center text-gray-400 bg-white rounded-[32px] border border-dashed border-gray-200">              <FaUserMd size={48} className="mb-4 opacity-20" />              <p className="text-sm font-bold uppercase tracking-widest">No verified specialists found</p>            </div>          ) : (            doctors.map(doctor => (              <div key={doctor.id} className="bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:shadow-xl transition-all group flex flex-col items-center text-center">                <div className="relative mb-6">                  <div className="w-20 h-20 rounded-2xl bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center text-3xl font-bold text-white shadow-lg shadow-primary-500/20 group-hover:scale-105 transition-transform duration-300">                    {doctor.name?.charAt(0).toUpperCase() || 'D'}                  </div>                  <div className="absolute -bottom-1 -right-1 w-6 h-6 bg-emerald-500 border-4 border-white rounded-full shadow-sm"></div>                </div>                <h3 className="text-lg font-extrabold text-gray-900 mb-1 group-hover:text-primary-700 transition-colors uppercase tracking-tight">{doctor.name || `Doctor #${doctor.id}`}</h3>                <span className="px-3 py-1 bg-purple-50 text-purple-600 text-[10px] font-black uppercase tracking-widest rounded-full border border-purple-100 mb-4">                  {doctor.specialty || 'Medical Specialist'}                </span>                {doctor.qualifications && (                  <div className="flex items-center gap-2 text-xs text-gray-500 font-semibold mb-6 bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100">                    <FaGraduationCap size={14} className="text-gray-400" />                    <span className="line-clamp-1">{doctor.qualifications}</span>                  </div>                )}                <div className="mt-auto flex items-center gap-3 w-full">                  <SPALink href={`users/${doctor.id}`} className="flex-1">                    <button className="w-full h-10 rounded-xl border border-gray-200 text-gray-600 hover:bg-gray-50 text-[10px] font-black uppercase tracking-widest transition-all">                      Profile                    </button>                  </SPALink>                  <SPALink href={`users/${doctor.id}/edit`}>                    <button className="h-10 w-10 flex items-center justify-center rounded-xl bg-primary-50 text-primary-600 hover:bg-primary-100 transition-colors">                      <FaEdit size={14} />                    </button>                  </SPALink>                </div>              </div>            ))          )}        </div>      )}    </div>  );}